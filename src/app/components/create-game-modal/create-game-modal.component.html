<div class="dialog-container">
    <h1 mat-dialog-title class="title">Create a new game</h1>
    <div mat-dialog-content>
        <mat-stepper orientation="vertical" #stepper>
            <mat-step state completed="false" [hasError]="!poolNameFormControl.valid" errorMessage="Pool name is required.">
              <form [formGroup]="poolNameFormGroup">
                <ng-template matStepLabel>Name your game</ng-template>
                <div class="vertical-spacer"></div>
                <mat-form-field appearance="fill">
                    <mat-label>Pool Name</mat-label>
                    <input matInput [formControl]="poolNameFormControl">
                </mat-form-field>
              </form>
            </mat-step>
            <mat-step state completed="false">
                <ng-template matStepLabel>Chip Values</ng-template>
                <div class="vertical-spacer"></div>
                Choose the values for each chip
                <div class="vertical-spacer"></div>
                <app-chip-select [(denominations)]="poolSettings.denominations" [maxBuyIn]="poolSettings.max_buy_in"></app-chip-select>
            </mat-step>
            <mat-step state completed="false">
                <ng-template matStepLabel>Buy-In Limits</ng-template>
                <div class="vertical-spacer"></div>
                Choose the minimum and maximum buy-in values for the game
                <div class="vertical-spacer"></div>
                <div class="limits-input-container">
                    <mat-form-field>
                        <mat-label>Minimum Buy-In</mat-label>
                        <div class="money-prefix" matPrefix>&nbsp; $</div>
                        <input
                            matInput
                            type="number"
                            [formControl]="minBuyInFormControl"
                            (blur)="onMinBuyInBlur()"
                            placeholder="Minimum Buy-In"
                            onkeydown="return event.keyCode !== 69 && event.keyCode !== 187 && event.keyCode !== 189"
                            min="0"
                        >
                    </mat-form-field>
                </div>
                <div class="limits-input-container">
                    <mat-form-field>
                        <mat-label>Maximum Buy-In</mat-label>
                        <div class="money-prefix" matPrefix>&nbsp; $</div>
                        <input
                            matInput
                            type="number"
                            [formControl]="maxBuyInFormControl"
                            (blur)="onMaxBuyInBlur()"
                            placeholder="Maximum Buy-In"
                            onkeydown="return event.keyCode !== 69 && event.keyCode !== 187 && event.keyCode !== 189"
                            min="0"
                        >
                    </mat-form-field>
                </div>
            </mat-step>
            <mat-step state completed="false">
              <ng-template matStepLabel>Entry Password</ng-template>
              <div class="vertical-spacer"></div>
              Set an optional password for joining the game
              <div class="vertical-spacer"></div>
                <mat-form-field appearance="fill">
                    <mat-label>Password</mat-label>
                    <input matInput [formControl]="passwordFormControl">
                </mat-form-field>
            </mat-step>
          </mat-stepper>
    </div>
    <div mat-dialog-actions>
        <button
            class="cancel-button"
            mat-raised-button
            (click)="cancel()"
        >
            CANCEL
        </button>
        <div class="horizontal-spacer"></div>
        <button
            class="create-button"
            mat-raised-button
            color="primary"
            (click)="createGame()"
            [disabled]="!mainFormGroup.valid"
        >
            CREATE GAME
        </button>
    </div>
</div>
