<div class="content">
    <ion-content>
        <ion-searchbar (ionInput)="handleSearch($event)"></ion-searchbar>
        <ion-list [inset]="true" *ngIf="transactions && transactions.length > 0 else emptyTable">
            <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
                <ion-refresher-content refreshingSpinner="circular"></ion-refresher-content>
            </ion-refresher>
            <ion-item *ngFor="let transaction of transactions; let index">
                <ion-label>
                    <ion-text>
                        <b>{{ transaction.profile.firstName }} {{transaction.profile.lastName}}</b>
                        <br/>
                        <sub>
                            <ion-text color="secondary">{{getDate(transaction.date)}}</ion-text>
                        </sub>
                    </ion-text>
                </ion-label>
                <ion-text class="transaction-text">
                    <ion-text 
                        [color]="isBuyIn(transaction.type) ? 'primary' : 'tertiary'"
                    >
                        <b>{{ isBuyIn(transaction.type) ? 'BUY-IN' : 'CASH-OUT' }}</b>
                    </ion-text>
                    <br/>
                    ${{ transaction.amount.toFixed(2) }}
                </ion-text>
                <br/>
            </ion-item>
        </ion-list>
    </ion-content>
</div>

<ng-template #emptyTable>
    <div class="content">
        <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
            <ion-refresher-content refreshingSpinner="circular"></ion-refresher-content>
        </ion-refresher>
        <div class="empty-table-text">
            No pool activity found.
            <br/><br/>
            <span class="buy-in-text" (click)="buyIn()">
                <ion-text color="primary"><b>BUY-IN</b></ion-text>
            </span>
            <br/>
            to get started. 
        </div>
    </div>
</ng-template>
